# -*- coding: utf-8 -*-
"""app.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1_5R4FkVak0J8rVuCXKs52zPElOXZIfrt
"""

import streamlit as st
import pandas as pd
import numpy as np
from catboost import CatBoostRegressor

# Load the saved CatBoost model
@st.cache_resource
def load_model():
    model = CatBoostRegressor()
    model.load_model("catboost_imdb_rating_model.cbm")
    return model

model = load_model()

# App title
st.title("üé¨ IMDb Rating Predictor")
st.markdown("Predict the IMDb rating of a TV show using genre, release year, and number of votes.")

# Genre options (based on dataset)
genre_options = [
    'Drama', 'Comedy', 'Action', 'Animation', 'Crime', 'Adventure', 'Biography',
    'Documentary', 'Fantasy', 'Family', 'Horror', 'Mystery', 'Romance', 'Sci-Fi',
    'Thriller', 'Music', 'History', 'War', 'Sport'
]

# Input fields
main_genre = st.selectbox("Select Genre", genre_options)
year = st.slider("Select Year of Release", min_value=1990, max_value=2025, step=1, value=2015)
votes = st.number_input("Enter IMDb Vote Count", min_value=0, value=50000, step=1000)

# Predict button
if st.button("Predict IMDb Rating"):
    input_data = pd.DataFrame({
        'main_genre': [main_genre],
        'year': [year],
        'imdb_votes': [votes]
    })

    prediction = model.predict(input_data)[0]
    st.success(f"‚≠ê Predicted IMDb Rating: **{prediction:.2f}**")